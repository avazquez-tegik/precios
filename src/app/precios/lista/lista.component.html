<ngx-spinner bdOpacity=0.7 bdColor="#ecf0f5" size="large" color="#4ed7ea" type="ball-fussion" [fullScreen]="true">
  <p style="color: #4ed7ea"> Loading... </p>
</ngx-spinner>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <div class="input-group mb-5">
        <input type="text" class="form-control mr-sm-2" placeholder="Articulo" [(ngModel)]="text" />
        <div class="input-group-append">
          <button class="btn btn-outline-primary" (click)="find()">
            Buscar ...
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 col-xs-12">
          <mk-box [isSolid]="true" boxColor="#fff" [isCollapsable]="true" [isRemovable]="false" header="Tiendas" [isCollapsed]="true">
            <mk-accordion-group [isMultiple]="false" [formGroup]="optionCadenasForm">
              <mk-accordion header="Departamentales">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="liverpool" />
                  <span class="form-check-label">
                    Liverpool
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="sanborns" />
                  <span class="form-check-label">
                    Sanbors
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="costco" />
                  <span class="form-check-label">
                    Costco
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="soriana" />
                  <span class="form-check-label">
                    Soriana
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="walmart" />
                  <span class="form-check-label">
                    Walmart
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="delsol" />
                  <span class="form-check-label">
                    DelSol
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="palacio_hierro" />
                  <span class="form-check-label">
                    Palacio Hierro
                  </span>
                </label>
              </mk-accordion>
              <mk-accordion header="Supermercados">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="heb" />
                  <span class="form-check-label">
                    HEB
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="super_walmart" />
                  <span class="form-check-label">
                    WalMart
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="bodega_aurrera" />
                  <span class="form-check-label">
                    Bodega Aurrera
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="superama" />
                  <span class="form-check-label">
                    Superama
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="chedraui" />
                  <span class="form-check-label">
                    Chedraui
                  </span>
                </label>
              </mk-accordion>
              <mk-accordion header="Deportes">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="innova_sport" />
                  <span class="form-check-label">
                    Innova Sport
                  </span>
                </label><label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="marti" />
                  <span class="form-check-label">
                    Marti
                  </span>
                </label>
                <</mk-accordion> <mk-accordion header="Electronica">
                  <label class="form-check">
                    <input class="form-check-input" type="checkbox" formControlName="bestbuy" />
                    <span class="form-check-label">
                      BestBuy
                    </span>
                  </label>
                  <label class="form-check">
                    <input class="form-check-input" type="checkbox" formControlName="pcel" />
                    <span class="form-check-label">
                      PCEL
                    </span>
                  </label>
              </mk-accordion>
              <mk-accordion header="Farmacias">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="farmacias_del_ahorro" />
                  <span class="form-check-label">
                    Farmacias del ahorro
                  </span>
                </label>
              </mk-accordion>
              <mk-accordion header="Hogar">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="home_depot" />
                  <span class="form-check-label">
                    HomeDepot
                  </span>
                </label>
              </mk-accordion>
              <mk-accordion header="Oficina">
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="officedepot" />
                  <span class="form-check-label">
                    OfficeDepot
                  </span>
                </label>
                <label class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="officemax" />
                  <span class="form-check-label">
                    OfficeMax
                  </span>
                </label>
              </mk-accordion>
            </mk-accordion-group>
          </mk-box>
        </div>
      </div>
    </div>
  </div>
  <div class="container col-md-12" *ngIf="show">
    <p class="text-center">Filtros</p>
    <hr />
    <div class="row">
      <div class="col-md-5">
        <div class="form-group">
          <input type="text" class="form-control" name="filterPost" placeholder="Contiene..." [(ngModel)]="filterPost">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-5">
        <mk-box [isSolid]="true" boxColor="#fff" [isCollapsable]="true" [isRemovable]="false" header="Rango precios" [isCollapsed]="true">
          <div class="card">
            <article class="card-group-item ">
              <div class="card-body">
                <div class="form-row">
                  <div class="form-group col-md-6 text-center">
                    <label>Min</label>
                    <input type="number" class="form-control" name="filterPriceMin" [(ngModel)]="filterPriceMin">
                  </div>
                  <div class="form-group col-md-6  text-center">
                    <label>Max</label>
                    <input type="number" class="form-control" name="filterPriceMin" [(ngModel)]="filterPriceMax">
                  </div>
                </div>
              </div> <!-- card-body.// -->
            </article> <!-- card-group-item.// -->
          </div> <!-- card.// -->
        </mk-box>
      </div>
    </div>
    <!-- row.// -->
  </div>
  <!--container end.//-->
  <p></p>
  <pagination-controls (pageChange)="p = $event"></pagination-controls>
  <div class="card-group">
   <!-- <div class="col-md-3" *ngFor="let item of list | search:filterPost | filtros: filterPost:filterPriceMin:filterPriceMax | paginate: { itemsPerPage: 16, currentPage: p } ">!-->
    <div class="col-md-3" *ngFor="let item of list | search:filterPost | paginate: { itemsPerPage: 16, currentPage: p } ">
      <div class="card box">
        <img class="card-img-top img" src="{{ item.imagen }}" />
        <img *ngIf="item.cadena == 'HEB'" src="assets/img/heb.png" class="center" />
        <img *ngIf="item.cadena == 'Soriana'" src="assets/img/soriana.png" class="center" />
        <img *ngIf="item.cadena == 'liverpool'" src="assets/img/liverpool.png" class="center" />
        <img *ngIf="item.cadena == 'sears'" src="assets/img/sears.jpeg" class="center" />
        <img *ngIf="item.cadena == 'bestbuy'" src="assets/img/bestbuy.png" class="center" />
        <img *ngIf="item.cadena == 'sanborns'" src="assets/img/sanborns.png" class="center" />
        <img *ngIf="item.cadena == 'Farmacias Del Ahorro'" src="assets/img/farmacias_del_ahorro.jpg" class="center" />
        <img *ngIf="item.cadena == 'WalMart' || item.cadena == 'SuperWalMart'" src="assets/img/walmart.png" class="center" />
        <img *ngIf="item.cadena == 'HomeDepot'" src="assets/img/homedepot.png" class="center" />
        <img *ngIf="item.cadena == 'Pcel'" src="assets/img/pcel.png" class="center" />
        <img *ngIf="item.cadena == 'Costco'" src="assets/img/costco.png" class="center" />
        <img *ngIf="item.cadena == 'Superama'" src="assets/img/superama.png" class="center" />
        <img *ngIf="item.cadena == 'DelSol'" src="assets/img/del_sol.png" class="center" />
        <img *ngIf="item.cadena == 'officedepot'" src="assets/img/office_depot.png" class="center" />
        <img *ngIf="item.cadena == 'Office Max'" src="assets/img/officemax.jpg" class="center" /><img *ngIf="item.cadena == 'BodegaAurrera'" src="
assets/img/bodega_aurrera.jpeg" class="center" />
        <img *ngIf="item.cadena == 'PalacioHierro'" src="assets/img/marti.png" class="center" />
        <img *ngIf="item.cadena == 'Marti'" src="assets/img/palacio_hierro.jpeg" class="center" />
        <img *ngIf="item.cadena == 'InnovaSport'" src="assets/img/innova_sport.jpeg" class="center" />
        <img *ngIf="item.cadena == 'Chedraui'" src="assets/img/chedraui.png" class="center" />
        <div class="card-body">
          <h5 class="card-title">{{ item.titulo }}</h5>
        </div>
        <h4 class="card-title" class="text-center">
          <strong> {{ item.precio | currency }}</strong>
        </h4>
        <a href="{{ item.enlace_informacion }}" target="_blank">
          <button type="button" class="btnx btn-primary btn-block">
            Comprar
          </button>
        </a>
      </div>
    </div>
  </div>
  <p></p>
  <pagination-controls (pageChange)="p = $event"></pagination-controls>
</div>
